.chat-wrap{ position:relative; min-height: calc(100vh - 140px); /* header+banner rough */ display:flex; flex-direction:column; }
.chat-main{ flex:1; overflow-y:auto; padding: 16px; display:flex; flex-direction:column; gap:12px; }
.chat-empty{ margin:auto; text-align:center; color:#475569 }
.chat-empty h2{ margin-bottom:8px }

.msg{ display:flex; gap:10px; align-items:flex-end; }
.msg .avatar{ width:28px; height:28px; display:flex; align-items:center; justify-content:center; background:#eef2ff; border-radius:6px; }
.msg .bubble{ max-width: 820px; padding: 10px 12px; border-radius: 10px; box-shadow: 0 1px 0 rgba(16,24,40,.04); background:#fff; border:1px solid var(--sgp-border); }
.msg.user{ flex-direction: row-reverse; }
.msg.user .avatar{ background:#dcfce7 }
.msg.user .bubble{ background:#f8fafc }
.bubble .content{ white-space: pre-wrap; }
.bubble .time{ margin-top:6px; font-size:0.75rem; color:#6b7280 }

.chat-input{ position:sticky; bottom:0; left:0; right:0; background: linear-gradient(to top, rgba(247,249,252,1), rgba(247,249,252,0.7)); border-top:1px solid var(--sgp-border); padding: 10px 12px; }
.input-row{ display:flex; gap:8px; align-items:flex-end }
.input-row textarea{ flex:1; resize:none; padding:10px 12px; border:1px solid var(--sgp-border); border-radius:12px; min-height:42px; max-height:200px; font-size:1rem; background:#fff }
.input-row .send{ background: var(--sgp-primary); color:#fff; border:none; border-radius:10px; padding:10px 14px; font-weight:700; cursor:pointer }
.input-row .send:disabled{ opacity:0.6; cursor:not-allowed }
.input-actions{ display:flex; justify-content:flex-end; padding-top:6px }
.input-actions .link{ background:transparent; border:none; color:#2563eb; cursor:pointer }